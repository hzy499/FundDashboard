<view class="min-h-screen bg-gray-100 pb-10">
  
  <view class="p-6 text-white transition-colors duration-500 {{ headerClass }}">
    <view class="text-sm opacity-80 mb-1">总资产 (元)</view>
    <view class="text-4xl font-bold mb-4">{{ totalAssets }}</view>
    
    <view class="flex justify-between items-center">
      <view>
        <view class="text-xs opacity-70">累计收益</view>
        <view class="text-lg font-medium">{{ totalProfit }}</view>
      </view>
      <view class="text-right">
        <view class="text-xs opacity-70">总收益率</view>
        <view class="text-lg font-medium">{{ totalReturnRate }}</view>
      </view>
    </view>
  </view>

  <view class="m-3 p-3 bg-white rounded-lg shadow-sm">
    <view class="text-sm font-bold text-gray-700 mb-2 border-l-4 border-blue-500 pl-2">资产分布</view>
    <view class="w-full h-60">
      <ec-canvas id="mychart-dom-pie" canvas-id="mychart-pie" ec="{{ ec }}"></ec-canvas>
    </view>
  </view>

  <view class="px-3">
    <van-skeleton title row="3" loading="{{ isLoading }}">
      <block wx:for="{{ fundList }}" wx:key="code">
        <view class="mb-3 overflow-hidden rounded-lg shadow-sm bg-white">
<van-card
  title="{{ item.name }}"
  thumb="/images/icons/goods.png"
>
            <view slot="desc" class="text-gray-500 text-xs mt-1 space-y-1">
              <view>代码: {{ item.code }} | 类型: {{ item.type }}</view>
              <view>持仓: {{ item.shares }} 份 | 成本: {{ item.cost }}</view>
            </view>
            
            <view slot="price" class="text-red-500 font-bold text-lg mt-2">
              ¥{{ item.marketValue }}
            </view>
            
            <view slot="bottom" class="mt-2 flex justify-between items-end">
               <view class="text-xs text-gray-400">净值: {{ item.price }} ({{ item.dailyPercent }}%)</view>
               <view class="{{ item.isGain ? 'text-red-500' : 'text-green-500' }} text-sm font-bold">
                 {{ item.isGain ? '+' : '' }}{{ item.returnRate }}
               </view>
            </view>
          </van-card>
        </view>
      </block>
    </van-skeleton>
  </view>
  
  <view class="text-center text-gray-400 text-xs py-4">
    数据更新于：{{ fundList[0].updateTime || '--' }}
  </view>

</view>